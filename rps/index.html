<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>RPCV2.0</title>
    </head>

    <body>

        <div class="container">
            <div class="topbar">
                <div class="title">
                    <h2>Stone Paper Scissors</h2>
                    <a onclick="showSettings()">Preferences</a>
                </div>
                <div class="scorecard">
                    <h3>SCORE</h3>
                    <div class="scores">
                        <div class="sh">
                            <h5>YOU</h5>
                            <p id="sch">0</p>

                        </div>
                        <div class="sb">
                            <h5>COM</h5>
                            <p id="scb">0</p>
                        </div>
                    </div>
                </div>

            </div>
            <p id="comment">Oiii</p>
            <div class="space" id="space">
                <div id="rob">
                    <img src="s.png" id="b">
                </div>
                <div id="hum">
                    <img src="p.png" id="h">
                </div>

            </div>

            <div class="userip" id="uip">
                <div class="opt">
                    <button id="ub1" onclick="validate('r')">
                        <img src="r.png" alt="">
                    </button>
                </div>
                <div class="opt">
                    <button id="ub2" onclick="validate('p')">
                        <img src="p.png" alt="">

                    </button>
                </div>
                <div class="opt">
                    <button id="ub3" onclick="validate('s')">
                        <img src="s.png" alt="">
                    </button>
                </div>
            </div>
            <div id="settings">
                <div class="field">
                    <h1>Preferences</h1>
                    <a onclick="hideSettings()" style="color: rgb(255, 75, 75);">Close</a>
                </div>
                <div class="field">
                    <p>Theme</p>
                    <select name="" id="theme" onchange="updateSettings()" disabled>
                        <option value="d">Dark</option>
                        <option value="l">Light</option>

                    </select>
                </div>
                <div class="field">
                    <p>Computer Response time</p>
                    <select name="" id="waitTime" onchange="updateSettings()">
                        <option value="0">immediately</option>

                        <option value="1000">1s</option>
                        <option value="2000" selected>2s</option>
                        <option value="3000">3s</option>
                        <option value="4000">4s</option>
                        <option value="5000">5s</option>


                    </select>
                </div>
                <div class="field atr">
                    <p>made with ‚ù§Ô∏è by <a href="https://rith1x.github.io/">Kiruthik Kumar</a></p>
                </div>
            </div>
        </div>

        <style>
            @import url('https://fonts.googleapis.com/css2?family=Chakra+Petch:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap');

            * {
                box-sizing: border-box;
                margin: 0;
                padding: 0;
                font-family: Chakra Petch;

            }

            :root {
                --tc: #44ff00;
                --bc: #000;
            }

            body {
                margin: 0;
                background-color: var(--bc);
                color: var(--tc);
            }

            .atr p,
            a {
                color: #aaa;
                font-style: italic;
                text-transform: capitalize;
                font-size: 14px;

            }

            .atr a {
                text-decoration: underline;
            }

            .topbar {
                height: 10dvh;
                width: 100%;
                display: flex;
                align-items: center;
                padding-inline: 10px;
                justify-content: space-between;
            }

            .title {
                display: flex;
                flex-direction: column;
                align-items: start;
                justify-content: space-between;
            }

            .title a {
                text-decoration: underline;
                cursor: pointer;
                font-style: italic;
                color: #0047ab;
            }

            #settings {
                width: 96%;
                border: solid 2px #aaaaaa50;
                border-radius: 31px;
                position: absolute;

                margin: auto;
                inset: 0;
                background-color: var(--bc);
                height: fit-content;
                padding: 21px;
                display: flex;
                visibility: hidden;
                flex-direction: column;
                gap: 15px;
            }

            #settings h1 {
                padding-left: 10px;
                border-left: solid 5px #00f7ab;
            }

            .field {
                display: flex;
                align-items: center;
                justify-content: space-between;

            }

            #settings select {
                padding: 10px 20px;
                border: solid 1px #aaaaaa;
                background-color: transparent;
                border-radius: 11px;
                color: var(--tc);
            }

            #comment {
                background-color: #000;
                color: #fff;
                font-size: 20px;
                box-shadow: 0 0 5px rgb(45, 45, 45);
                transform: rotatey(90deg);
                width: fit-content;
                padding: 5px 20px;
                overflow: hidden;
                transition: all .5s cubic-bezier(0.175, 0.885, 0.32, 1);

                border-radius: 21px;
            }



            .container {
                max-width: 450px;
                height: 100dvh;
                margin: 0 auto;
                display: flex;
                position: relative;
                flex-direction: column;
                align-items: center;
                overflow: visible hidden;
                justify-content: space-between;
            }

            .userip {
                height: 15dvh;
                background-color: var(--bc);
                border-radius: 31px 31px 0 0;
                overflow: hidden;
                transition: all .3s ease-in-out;
                display: flex;
                align-items: space-evenly;
                justify-content: center;
                gap: 20px;
                padding: 10px 10px 0 10px;
                width: 96%;
                box-shadow: 0 0 10px -3px #2e2e2e;

            }

            .scorecard {
                height: 100%;
                display: flex;
                flex-direction: column;
                align-items: center;
                border: solid 2px #000;
            }

            .scores {
                display: flex;
                align-items: center;
                width: 100px;
                justify-content: space-between;
            }

            .scores div {
                display: flex;
                flex-direction: column;
                align-items: center;
                width: 100%;
                border-top: solid 2px #000;
            }

            .scores div:first-child {
                border-right: solid 2px #000;
            }

            .space {
                width: 80%;
                aspect-ratio: 1 / 1;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                overflow: hidden;
                border-radius: 50%;
                backdrop-filter: blur(4px);
                transition: all 0.5s ease-in-out;

                background-image: linear-gradient(0deg, #fff3e220, #e8f4ff20);
            }





            button {
                height: 100%;
                aspect-ratio: 1/1;
                border: none;
                transition: all 0.2s ease-in-out;
                padding: 10px;
                background-color: transparent;
            }

            button img {
                width: 100%;
            }

            button:hover {
                margin-top: -10px;
            }

            #hum,
            #rob {
                height: 100%;
                padding-block: 20px;
                width: 100%;
                overflow: hidden;
                display: flex;
                justify-content: center;
                transition: all .3s cubic-bezier(0.175, 0.885, 0.32, 1.275);


            }

            #hum {
                transform: translateY(120%);
            }

            #rob {
                transform: translateY(-120%);

            }

            #rob img {
                rotate: 180deg;
                filter: hue-rotate(200deg);

            }
        </style>
        <script>

            const s_h = document.getElementById("h");
            const s_b = document.getElementById("b");
            const shel = document.getElementById("hum");
            const sbel = document.getElementById("rob");
            const space = document.getElementById("space");

            const ub1 = document.getElementById("ub1")
            const ub2 = document.getElementById("ub2")
            const ub3 = document.getElementById("ub3")
            const sch = document.getElementById("sch")
            const scb = document.getElementById("scb")
            const comment = document.getElementById("comment")

            const uip = document.getElementById("uip")
            var rc;
            var hc;
            var scrb = 0;
            var scrh = 0;
            var roboResponseTime = 0;

            function validate(hum) {
                lockBtns()
                hc = hum
                s_h.src = `${hc}.png`;
                shel.style.transform = "translateY(0)";
                setTimeout(roboGen, roboResponseTime);

            }
            function roboGen() {
                let randInt = Math.floor(Math.random() * 3)
                switch (randInt) {
                    case 0:
                        rc = "r"
                        break;
                    case 1:
                        rc = "p"
                        break;
                    case 2:
                        rc = "s"
                        break;
                }
                s_b.src = `${rc}.png`
                sbel.style.transform = "translateY(0)";
                result = evaluate(hc, rc);
                if (result == "hum") {
                    space.style.boxShadow = " 0 0 40px #90ff90"
                    updateScore("h")

                } else if (result == "bot") {
                    space.style.boxShadow = " 0 0 40px #ff9090"
                    updateScore("b")

                } else {
                    space.style.boxShadow = " 0 0 50px #ffff90"
                    showComment("tie");


                }
                setTimeout(unlockBtns, 2000);

            }

            function lockBtns() {
                ub1.setAttribute("disabled", "true");
                ub2.setAttribute("disabled", "true");
                ub3.setAttribute("disabled", "true");
                ub1.style.filter = "saturate(0) blur(5px)";
                ub2.style.filter = "saturate(0) blur(5px)";
                ub3.style.filter = "saturate(0) blur(5px)";

            }

            function unlockBtns() {
                ub1.removeAttribute("disabled", "false");
                ub2.removeAttribute("disabled", "false");
                ub3.removeAttribute("disabled", "false");

                ub1.style.filter = "none";
                ub2.style.filter = "none";
                ub3.style.filter = "none";
                shel.style.transform = "translatey(120%)"
                sbel.style.transform = "translatey(-120%)"
                space.style.boxShadow = "none"

            }

            function updateScore(x) {
                if (x == "h") {
                    scrh += 1;
                    sch.innerText = scrh;
                    showComment("h");

                }
                else {
                    scrb += 1;
                    scb.innerText = scrb;
                    showComment("b");


                }
            }

            function evaluate(h, b) {

                if (h != b) {
                    if (h == "r") {
                        if (b == "s") {
                            return "hum";
                        } else {
                            return "bot";
                        }
                    } else if (h == "p") {
                        if (b == "r") {
                            return "hum";
                        } else {
                            return "bot";
                        }
                    } else {
                        if (b == "p") {
                            return "hum";
                        } else {
                            return "bot";
                        }
                    }
                } else {

                    return "tie";
                }
            }

            function showComment(v) {
                var won = [
                    "I'm the King! üëë",
                    "Top dog! üêï",
                    "Bossing it! üòé",
                    "Champ is here! ü•á",
                    "Gold medalist! üèÖ",
                    "Bow to the champ! üèÜ",
                    "Winner winner! üçó",
                    "Victory dance time! üíÉüï∫",
                    "Unstoppable! üöÄ",
                    "In your face! üåü",
                    "Feeling great! üòÑ",
                    "Thanks, luck! üçÄ",
                    "Sweet victory! üç´",
                    "On cloud nine! ‚òÅÔ∏è",
                    "Just keep winning! üèÜ",
                    "Dreams come true! üí≠üéâ",
                    "You're the best! üèÜ",
                    "I'm the best! üòé",
                    "King of hill! üëë",
                    "Feeling good! üåü",
                    "Champions rule! üèÜ",
                    "Gold standard! ü•á",
                    "I'm a winner! üèÜ",
                    "Hooray for me! üéâ",
                    "I'm a champ! üèÖ",
                    "I win again! ü•á",
                    "I won, yay! üéâ",
                    "Winning feels good! üèÜ",
                    "Living the dream! üåà",
                    "Thank you, world! üåé",
                ];
                var los = [
                    "Oops! üò¨",
                    "Oh no! üòî",
                    "Tough luck! üòì",
                    "Lost again! üòû",
                    "Second place! ü•à",
                    "Try again! üîÑ",
                    "Next time! üîú",
                    "Better luck! üçÄ",
                    "It's over! üò´",
                    "Almost won! üòÖ",
                    "Not today! üôÖ‚Äç‚ôÇÔ∏è",
                    "Maybe next time! ü§û",
                    "Not your day! üìÜ",
                    "Close call! üìû",
                    "Better try! üí™",
                    "Not the one! ‚ùå",
                    "Better luck next! üçÄ",
                    "Defeated! üò¢",
                    "Lost the game! üòü",
                    "Not this time! ‚è∞",
                    "Can't win all! üôÅ",
                    "Try harder! üí™",
                    "No winning! üõë",
                    "Lost the match! üíî",
                    "Missed out! üò£",
                    "Lost the battle! ‚öîÔ∏è",
                    "Didn't win! ü§∑",
                    "Fell short! üìâ",
                    "Bad luck! üå™Ô∏è",
                    "No victory! üö´",
                ];
                var tie = [
                    "It's a draw! ü§ù",
                    "No winner! üö´",
                    "Even match! ‚öñÔ∏è",
                    "Tied game! üéØ",
                    "Same score! üìä",
                    "No victor! üè≥Ô∏è",
                    "Stalemate! üõ°Ô∏è",
                    "Tiebreaker needed! üîÑ",
                    "Equal footing! ‚öîÔ∏è",
                    "Neutral result! üîÑ",
                    "All square! ‚ñ™Ô∏è‚ñ´Ô∏è",
                    "No decision! ü§∑",
                    "Dead heat! üèÅ",
                    "Level playing field! üèûÔ∏è",
                    "Drawn game! üé≤",
                    "Balance achieved! ‚öñÔ∏è",
                    "No clear winner! ‚ùì",
                    "Shared victory! ü§ù",
                    "Both win! üéâ",
                    "No one wins! ‚ùå",
                    "Tie game! üéÆ",
                    "Equal outcome! ‚öñÔ∏è",
                    "Equal result! ‚û∞",
                    "No loser! ü§∑‚Äç‚ôÇÔ∏è",
                    "Even contest! ü•ä",
                    "All tied up! üéÄ",
                    "Both sides equal! ‚öñÔ∏è",
                    "No decisive winner! ‚ùî",
                    "Neither wins! ‚ùì",
                    "Match ends level! ‚öñÔ∏è",
                ];


                comment.style.transform = "rotatey(0deg)";
                comment.style.color = "var(--tc)";


                if (v == "h") {
                    var ranInty = los[Math.floor(Math.random() * los.length)]
                    comment.innerText = "ü§ñ: " + ranInty;
                } else if (v == "guide") {
                    comment.innerText = "Welcome to the Game!";


                } else if (v == "tie") {
                    var ranInty = tie[Math.floor(Math.random() * tie.length)]
                    comment.innerText = "ü§ñ: " + ranInty;
                }
                else {
                    var ranInty = won[Math.floor(Math.random() * won.length)]
                    comment.innerText = "ü§ñ: " + ranInty;

                }
                setTimeout(() => {
                    comment.style.color = "#000";
                    comment.style.transform = "rotatey(90deg)";
                }, 3000);
            }
            (function startUp() {
                showComment("guide");

                let synctime = localStorage.getItem("rpctime");

                if (synctime) {
                    roboResponseTime = synctime;
                    document.getElementById("waitTime").value = synctime;

                } else {
                    roboResponseTime = parseInt(document.getElementById("waitTime").value)

                }
            })();
            function updateSettings() {
                roboResponseTime = parseInt(document.getElementById("waitTime").value)
                localStorage.setItem("rpctime", roboResponseTime);

            }
            function hideSettings() {
                document.getElementById("settings").style.visibility = "hidden";
            }
            function showSettings() {
                document.getElementById("settings").style.visibility = "visible";
            }
        </script>
    </body>

</html>